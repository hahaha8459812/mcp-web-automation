# âš™ï¸ MCP Web Automation Tool é…ç½®æŒ‡å—

> å®Œæ•´çš„åŠŸèƒ½é…ç½®æ¸…å•å’Œå‚æ•°è¯´æ˜

## ğŸ“‹ é…ç½®æ–‡ä»¶æ€»è§ˆ

æœ¬å·¥å…·æä¾›äº†ä¸°å¯Œçš„é…ç½®é€‰é¡¹ï¼Œæ”¯æŒçµæ´»çš„è‡ªå®šä¹‰è®¾ç½®ã€‚æ‰€æœ‰é…ç½®åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªå±‚æ¬¡ï¼š

- ğŸ”§ **ä¸»é…ç½®æ–‡ä»¶**ï¼š`config/config.json`
- ğŸŒ **ç¯å¢ƒå˜é‡**ï¼šDocker å’Œç³»ç»Ÿç¯å¢ƒ
- ğŸ³ **å®¹å™¨é…ç½®**ï¼š`docker-compose.yml`
- ğŸš€ **å¯åŠ¨å‚æ•°**ï¼šæµè§ˆå™¨å¼•æ“é…ç½®

---

## 1ï¸âƒ£ **ä¸»é…ç½®æ–‡ä»¶** `config/config.json`

### ğŸ” å®‰å…¨é…ç½®
| é…ç½®é¡¹ | é»˜è®¤å€¼ | è¯´æ˜ | é‡è¦æ€§ |
|--------|--------|------|---------|
| `api_key` | `mcp-demo-key-change-me-in-production` | APIè®¿é—®å¯†é’¥ | â­â­â­ |
| `security.max_concurrent_clients` | `2` | æœ€å¤§å¹¶å‘å®¢æˆ·ç«¯æ•° | â­â­ |
| `security.rate_limit.enabled` | `true` | æ˜¯å¦å¯ç”¨é¢‘ç‡é™åˆ¶ | â­â­ |
| `security.rate_limit.max_requests_per_minute` | `60` | æ¯åˆ†é’Ÿæœ€å¤§è¯·æ±‚æ•° | â­â­ |

### ğŸŒ æœåŠ¡å™¨é…ç½®
| é…ç½®é¡¹ | é»˜è®¤å€¼ | è¯´æ˜ | é‡è¦æ€§ |
|--------|--------|------|---------|
| `server.port` | `29527` | ç›‘å¬ç«¯å£ | â­â­â­ |
| `server.host` | `0.0.0.0` | ç»‘å®šåœ°å€ | â­â­ |

### ğŸ–¥ï¸ æµè§ˆå™¨é…ç½®
| é…ç½®é¡¹ | é»˜è®¤å€¼ | è¯´æ˜ | é‡è¦æ€§ |
|--------|--------|------|---------|
| `browser.headless` | `true` | æ— å¤´æ¨¡å¼å¼€å…³ | â­â­ |
| `browser.timeout` | `30000` | é¡µé¢è¶…æ—¶æ—¶é—´(ms) | â­â­ |
| `browser.user_agent` | Chromeæ ‡å‡†UA | ç”¨æˆ·ä»£ç†å­—ç¬¦ä¸² | â­ |
| `browser.viewport.width` | `1920` | æµè§ˆå™¨çª—å£å®½åº¦ | â­ |
| `browser.viewport.height` | `1080` | æµè§ˆå™¨çª—å£é«˜åº¦ | â­ |

### ğŸ“ æ—¥å¿—é…ç½®
| é…ç½®é¡¹ | é»˜è®¤å€¼ | è¯´æ˜ | é‡è¦æ€§ |
|--------|--------|------|---------|
| `logging.level` | `info` | æ—¥å¿—çº§åˆ«(error/warn/info/debug) | â­â­ |
| `logging.file` | `logs/mcp-web-automation.log` | æ—¥å¿—æ–‡ä»¶è·¯å¾„ | â­ |
| `logging.max_file_size` | `10MB` | å•ä¸ªæ—¥å¿—æ–‡ä»¶æœ€å¤§å¤§å° | â­ |
| `logging.max_files` | `5` | ä¿ç•™æ—¥å¿—æ–‡ä»¶æ•°é‡ | â­ |

### âœ¨ åŠŸèƒ½å¼€å…³
| é…ç½®é¡¹ | é»˜è®¤å€¼ | è¯´æ˜ | é‡è¦æ€§ |
|--------|--------|------|---------|
| `features.screenshots.enabled` | `true` | æˆªå›¾åŠŸèƒ½å¼€å…³ | â­â­ |
| `features.screenshots.max_width` | `1920` | æˆªå›¾æœ€å¤§å®½åº¦ | â­ |
| `features.screenshots.max_height` | `1080` | æˆªå›¾æœ€å¤§é«˜åº¦ | â­ |
| `features.screenshots.quality` | `80` | æˆªå›¾è´¨é‡(0-100) | â­ |
| `features.bookmarks.enabled` | `true` | æ”¶è—å¤¹åŠŸèƒ½å¼€å…³ | â­â­ |
| `features.bookmarks.max_per_website` | `100` | æ¯ä¸ªç½‘ç«™æœ€å¤§æ”¶è—æ•° | â­ |
| `features.credentials.enabled` | `true` | å¯†ç ç®¡ç†åŠŸèƒ½å¼€å…³ | â­â­ |
| `features.credentials.encryption` | `true` | å¯†ç åŠ å¯†(å½“å‰ä¸ºæ˜æ–‡) | â­ |

---

## 2ï¸âƒ£ **ç¯å¢ƒå˜é‡é…ç½®**

### ğŸŒ Docker ç¯å¢ƒå˜é‡
| å˜é‡å | é»˜è®¤å€¼ | è¯´æ˜ | é…ç½®ä½ç½® |
|--------|--------|------|---------|
| `NODE_ENV` | `production` | è¿è¡Œç¯å¢ƒ | `docker-compose.yml` |
| `TZ` | `Asia/Shanghai` | æ—¶åŒºè®¾ç½® | `docker-compose.yml` |
| `LOG_LEVEL` | `info` | æ—¥å¿—çº§åˆ« | ç¯å¢ƒå˜é‡ |
| `PUPPETEER_EXECUTABLE_PATH` | `/usr/bin/chromium-browser` | Chromeå¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„ | `Dockerfile` |
| `PUPPETEER_SKIP_CHROMIUM_DOWNLOAD` | `true` | è·³è¿‡Chromiumä¸‹è½½ | `Dockerfile` |

---

## 3ï¸âƒ£ **Docker é…ç½®** `docker-compose.yml`

### ğŸ³ å®¹å™¨èµ„æºé…ç½®
| é…ç½®é¡¹ | é»˜è®¤å€¼ | è¯´æ˜ | ä¿®æ”¹å»ºè®® |
|--------|--------|------|---------|
| `ports` | `29527:29527` | ç«¯å£æ˜ å°„ | å¯æ”¹ä¸ºå…¶ä»–ç«¯å£ |
| `restart` | `unless-stopped` | é‡å¯ç­–ç•¥ | å»ºè®®ä¿æŒ |
| `deploy.resources.limits.memory` | `512M` | å†…å­˜é™åˆ¶ | å¯æ ¹æ®æœåŠ¡å™¨è°ƒæ•´ |
| `deploy.resources.limits.cpus` | `1.0` | CPUé™åˆ¶ | å¯æ ¹æ®æœåŠ¡å™¨è°ƒæ•´ |
| `deploy.resources.reservations.memory` | `256M` | å†…å­˜é¢„ç•™ | å»ºè®®è‡³å°‘256M |
| `deploy.resources.reservations.cpus` | `0.5` | CPUé¢„ç•™ | å»ºè®®è‡³å°‘0.5 |

### ğŸ“‚ æ•°æ®å·æŒ‚è½½
| é…ç½®é¡¹ | è¯´æ˜ | æƒé™ |
|--------|------|------|
| `./config:/app/config:ro` | é…ç½®æ–‡ä»¶(åªè¯») | åªè¯» |
| `./data:/app/data` | ç”¨æˆ·æ•°æ®(è¯»å†™) | è¯»å†™ |
| `./logs:/app/logs` | æ—¥å¿—æ–‡ä»¶(è¯»å†™) | è¯»å†™ |

---

## 4ï¸âƒ£ **æµè§ˆå™¨å¯åŠ¨å‚æ•°** `src/browser/manager.js`

### ğŸš€ Puppeteer å¯åŠ¨é…ç½®
| å‚æ•° | çŠ¶æ€ | è¯´æ˜ | ä¿®æ”¹å»ºè®® |
|------|------|------|---------|
| `--no-sandbox` | å¯ç”¨ | ç¦ç”¨æ²™ç›’æ¨¡å¼ | âŒ ä¸å»ºè®®ä¿®æ”¹ |
| `--disable-setuid-sandbox` | å¯ç”¨ | ç¦ç”¨setuidæ²™ç›’ | âŒ ä¸å»ºè®®ä¿®æ”¹ |
| `--disable-dev-shm-usage` | å¯ç”¨ | å‡å°‘å…±äº«å†…å­˜ä½¿ç”¨ | âš ï¸ ä½å†…å­˜å¿…éœ€ |
| `--disable-gpu` | å¯ç”¨ | ç¦ç”¨GPU | âœ… å¯æ ¹æ®éœ€è¦å¯ç”¨ |
| `--disable-images` | æ³¨é‡Š | ç¦ç”¨å›¾ç‰‡åŠ è½½ | âœ… èŠ‚çœå¸¦å®½å¯å¯ç”¨ |
| `--single-process` | å¯ç”¨ | å•è¿›ç¨‹æ¨¡å¼ | âš ï¸ ä½å†…å­˜å»ºè®®ä¿æŒ |
| `--max-old-space-size=256` | `256MB` | V8å†…å­˜é™åˆ¶ | âœ… å¯è°ƒæ•´ |

---

## 5ï¸âƒ£ **API åŠŸèƒ½é…ç½®**

### ğŸŒ åŠŸèƒ½å¼€å…³æ§åˆ¶
| åŠŸèƒ½ | é»˜è®¤çŠ¶æ€ | æ§åˆ¶ä½ç½® | è¯´æ˜ |
|------|---------|---------|------|
| å†…å®¹æå– | âœ… å¯ç”¨ | ä»£ç å›ºå®š | æ”¯æŒtext/html/valueç­‰ç±»å‹ |
| å…ƒç´ äº¤äº’ | âœ… å¯ç”¨ | ä»£ç å›ºå®š | ç‚¹å‡»ã€è¾“å…¥ã€é€‰æ‹©æ“ä½œ |
| é¡µé¢å¯¼èˆª | âœ… å¯ç”¨ | ä»£ç å›ºå®š | URLè·³è½¬ã€åˆ·æ–°ç­‰ |
| é¡µé¢æˆªå›¾ | ğŸ”§ å¯é…ç½® | `features.screenshots` | å¯é€šè¿‡é…ç½®æ–‡ä»¶ç¦ç”¨ |
| æ”¶è—å¤¹ç®¡ç† | ğŸ”§ å¯é…ç½® | `features.bookmarks` | å¯é€šè¿‡é…ç½®æ–‡ä»¶ç¦ç”¨ |
| å¯†ç ç®¡ç† | ğŸ”§ å¯é…ç½® | `features.credentials` | å¯é€šè¿‡é…ç½®æ–‡ä»¶ç¦ç”¨ |

---

## 6ï¸âƒ£ **æ•°æ®å­˜å‚¨é…ç½®**

### ğŸ“ æ•°æ®æ–‡ä»¶ç»“æ„
| æ–‡ä»¶ç±»å‹ | è·¯å¾„ | è¯´æ˜ | å¯ä¿®æ”¹æ€§ |
|---------|------|------|----------|
| ç”¨æˆ·æ•°æ® | `data/user-data.json` | æ”¶è—å¤¹å’Œå¯†ç æ•°æ® | âŒ è·¯å¾„å›ºå®š |
| é…ç½®æ–‡ä»¶ | `config/config.json` | ä¸»é…ç½®æ–‡ä»¶ | âœ… å†…å®¹å¯ä¿®æ”¹ |
| æ—¥å¿—æ–‡ä»¶ | `logs/*.log` | åº”ç”¨æ—¥å¿— | âœ… è·¯å¾„å¯é…ç½® |
| å¤‡ä»½æ–‡ä»¶ | `backups/` | è‡ªåŠ¨å¤‡ä»½ç›®å½• | âŒ è„šæœ¬å›ºå®š |

---

## ğŸ› ï¸ **å¸¸è§é…ç½®ä¿®æ”¹**

### ğŸ”§ ä¿®æ”¹ç›‘å¬ç«¯å£
1. ç¼–è¾‘ `config/config.json`ï¼š
   ```json
   {
     "server": {
       "port": 8080,
       "host": "0.0.0.0"
     }
   }
