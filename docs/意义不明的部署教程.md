## ðŸš€ åœ¨ /opt ç›®å½•éƒ¨ç½² MCP Web Automation Tool

> åœ¨ Linux ç³»ç»Ÿçš„ /opt ç›®å½•ä¸‹è¿›è¡Œç”Ÿäº§çŽ¯å¢ƒMCPéƒ¨ç½²

---

## ðŸ“‹ **éƒ¨ç½²æ¦‚è¿°**

`/opt` ç›®å½•æ˜¯ Linux ç³»ç»Ÿä¸­å®‰è£…ç¬¬ä¸‰æ–¹è½¯ä»¶çš„æ ‡å‡†ä½ç½®ï¼Œé€‚åˆç”Ÿäº§çŽ¯å¢ƒéƒ¨ç½²ã€‚

### ðŸŽ¯ **MCPéƒ¨ç½²ç‰¹æ€§**
- **æ ‡å‡†MCPåè®®**: å®Œå…¨ç¬¦åˆMCPè§„èŒƒ
- **åŒæ¨¡å¼æ”¯æŒ**: stdio (æœ¬åœ°) + HTTP/SSE (è¿œç¨‹)
- **é«˜æ€§èƒ½**: ä¼˜åŒ–çš„æµè§ˆå™¨ç®¡ç†å’Œèµ„æºå¤ç”¨
- **æ˜“äºŽç»´æŠ¤**: ç»Ÿä¸€çš„æœåŠ¡ç®¡ç†å’Œç›‘æŽ§

---

## 1ï¸âƒ£ **è¿žæŽ¥æœåŠ¡å™¨å¹¶å‡†å¤‡çŽ¯å¢ƒ**

### ðŸ” **è¿žæŽ¥åˆ°æœåŠ¡å™¨**
```bash
# é€šè¿‡ SSH è¿žæŽ¥åˆ°æœåŠ¡å™¨
ssh username@your-server-ip

# åˆ‡æ¢åˆ° root ç”¨æˆ·ï¼ˆæŽ¨èï¼‰
sudo su -
# æˆ–è€…æ¯ä¸ªå‘½ä»¤å‰åŠ  sudo
```

### ðŸ“‹ **ç³»ç»Ÿè¦æ±‚æ£€æŸ¥**
```bash
# æ£€æŸ¥æ“ä½œç³»ç»Ÿç‰ˆæœ¬
cat /etc/os-release

# æ£€æŸ¥å¯ç”¨å†…å­˜ï¼ˆæŽ¨è 1GB+ï¼‰
free -h

# æ£€æŸ¥ç£ç›˜ç©ºé—´ï¼ˆæŽ¨è 2GB+ï¼‰
df -h /opt

# æ£€æŸ¥ CPU æ ¸å¿ƒæ•°
nproc

# è¾“å‡ºç¤ºä¾‹:
# å†…å­˜: 1-2GB+ å¯ç”¨
# ç£ç›˜: 2GB+ å¯ç”¨ç©ºé—´
# CPU: 1-2+ æ ¸å¿ƒ
```

---

## 2ï¸âƒ£ **å®‰è£…ç³»ç»Ÿä¾èµ–**

### ðŸ“¦ **Ubuntu/Debian ç³»ç»Ÿ**
```bash
# æ›´æ–°åŒ…ç®¡ç†å™¨
apt update && apt upgrade -y

# å®‰è£…åŸºç¡€ä¾èµ–
apt install -y curl wget git build-essential

# å®‰è£… Node.js 18+ (ä½¿ç”¨å®˜æ–¹æº)
curl -fsSL https://deb.nodesource.com/setup_18.x | bash -
apt install -y nodejs

# å®‰è£… Chrome/Chromium
apt install -y chromium-browser
# æˆ–è€…å®‰è£… Google Chrome
wget -q -O - https://dl.google.com/linux/linux_signing_key.pub | apt-key add -
echo "deb [arch=amd64] http://dl.google.com/linux/chrome/deb/ stable main" > /etc/apt/sources.list.d/google-chrome.list
apt update
apt install -y google-chrome-stable

# å®‰è£…å…¶ä»–å·¥å…·
apt install -y jq htop ufw lsof
```

### ðŸ“¦ **CentOS/RHEL ç³»ç»Ÿ**
```bash
# æ›´æ–°ç³»ç»Ÿ
yum update -y

# å®‰è£…åŸºç¡€ä¾èµ–
yum groupinstall -y "Development Tools"
yum install -y curl wget git

# å®‰è£… Node.js 18+
curl -fsSL https://rpm.nodesource.com/setup_18.x | bash -
yum install -y nodejs

# å®‰è£… Chromium
yum install -y chromium

# å®‰è£…å…¶ä»–å·¥å…·
yum install -y jq htop lsof
```

### âœ… **éªŒè¯å®‰è£…**
```bash
# éªŒè¯ Node.js ç‰ˆæœ¬
node --version  # åº”æ˜¾ç¤º v18.x.x æˆ–æ›´é«˜

# éªŒè¯ npm ç‰ˆæœ¬
npm --version

# éªŒè¯ Chrome/Chromium
which google-chrome || which chromium-browser

# éªŒè¯æµè§ˆå™¨ç‰ˆæœ¬
google-chrome --version || chromium-browser --version
```

---

## 3ï¸âƒ£ **ä¸‹è½½å’Œå®‰è£…é¡¹ç›®**

### ðŸ“ **åˆ›å»ºéƒ¨ç½²ç›®å½•**
```bash
# è¿›å…¥ /opt ç›®å½•
cd /opt

# å…‹éš†é¡¹ç›®ï¼ˆä½¿ç”¨ MCP åˆ†æ”¯ï¼‰
git clone https://github.com/hahaha8459812/mcp-web-automation.git
cd mcp-web-automation

# åˆ‡æ¢åˆ° MCP åˆ†æ”¯
git checkout feature/mcp-server-implementation

# æŸ¥çœ‹é¡¹ç›®ä¿¡æ¯
ls -la
git branch
git log --oneline -5
```

### ðŸ“¦ **å®‰è£…é¡¹ç›®ä¾èµ–**
```bash
# å®‰è£… npm ä¾èµ–
npm install

# éªŒè¯ä¾èµ–å®‰è£…
npm list --depth=0

# æ£€æŸ¥å…³é”®ä¾èµ–
npm list puppeteer
npm list @modelcontextprotocol/sdk
```

### âš™ï¸ **é…ç½®æ–‡ä»¶è®¾ç½®**
```bash
# å¤åˆ¶é…ç½®æ¨¡æ¿
cp mcp-config.example.json mcp-config.json

# ç¼–è¾‘é…ç½®æ–‡ä»¶
nano mcp-config.json
# æˆ–ä½¿ç”¨ vim: vim mcp-config.json

# åˆ›å»ºå¿…è¦ç›®å½•
mkdir -p data logs

# è®¾ç½®æ–‡ä»¶æƒé™
chmod +x start-mcp.sh
chmod 644 mcp-config.json
chmod 755 data logs
```

#### ðŸ”§ **ç”Ÿäº§çŽ¯å¢ƒé…ç½®ç¤ºä¾‹**
```json
{
  "_comment": "ç”Ÿäº§çŽ¯å¢ƒ MCP é…ç½®",
  "server": {
    "name": "web-automation-prod",
    "version": "1.0.0",
    "description": "ç”Ÿäº§çŽ¯å¢ƒMCP Webè‡ªåŠ¨åŒ–å·¥å…·"
  },
  "http": {
    "port": 29528,
    "host": "0.0.0.0"
  },
  "browser": {
    "headless": true,
    "timeout": 30000,
    "user_agent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",
    "viewport": {
      "width": 1920,
      "height": 1080
    },
    "args": [
      "--no-sandbox",
      "--disable-setuid-sandbox",
      "--disable-dev-shm-usage",
      "--disable-gpu"
    ]
  },
  "logging": {
    "level": "info",
    "file": "logs/mcp-web-automation.log",
    "max_file_size": "50MB",
    "max_files": 10
  },
  "features": {
    "screenshots": {
      "enabled": true,
      "max_width": 1920,
      "max_height": 1080,
      "quality": 80
    },
    "bookmarks": {
      "enabled": true,
      "max_per_website": 200
    },
    "credentials": {
      "enabled": true,
      "encryption": true
    }
  }
}
```

---

## 4ï¸âƒ£ **æœåŠ¡å¯åŠ¨å’Œæµ‹è¯•**

### ðŸš€ **å¯åŠ¨ MCP æœåŠ¡**
```bash
# å¯åŠ¨ MCP HTTP æœåŠ¡ï¼ˆåŽå°è¿è¡Œï¼‰
./start-mcp.sh http

# æ£€æŸ¥æœåŠ¡çŠ¶æ€
./start-mcp.sh status

# æŸ¥çœ‹å¯åŠ¨æ—¥å¿—
./start-mcp.sh logs
```

### ðŸ§ª **æœåŠ¡åŠŸèƒ½æµ‹è¯•**
```bash
# 1. å¥åº·æ£€æŸ¥æµ‹è¯•
curl http://localhost:29528/health

# æœŸæœ›è¾“å‡º:
# {
#   "status": "ok",
#   "message": "MCP Web Automation Server is running",
#   "version": "1.0.0",
#   "timestamp": "2023-12-01T10:00:00.000Z",
#   "protocols": ["stdio", "http-sse"],
#   "tools_count": 7
# }

# 2. MCP è¿žæŽ¥æµ‹è¯•
curl http://localhost:29528/mcp

# 3. å®Œæ•´æœåŠ¡æµ‹è¯•
./start-mcp.sh test

# 4. stdio æ¨¡å¼æµ‹è¯•
timeout 5s ./start-mcp.sh stdio
```

### ðŸ“Š **ç›‘æŽ§ç³»ç»Ÿèµ„æº**
```bash
# æŸ¥çœ‹è¿›ç¨‹çŠ¶æ€
ps aux | grep node

# æŸ¥çœ‹å†…å­˜ä½¿ç”¨
free -h

# æŸ¥çœ‹ç«¯å£å ç”¨
lsof -i :29528

# æŸ¥çœ‹ç³»ç»Ÿè´Ÿè½½
top
htop
```

---

## 5ï¸âƒ£ **é˜²ç«å¢™å’Œç½‘ç»œé…ç½®**

### ðŸ”¥ **é…ç½®é˜²ç«å¢™ (UFW)**
```bash
# å¯ç”¨é˜²ç«å¢™
ufw enable

# å…è®¸ SSH è¿žæŽ¥
ufw allow ssh
ufw allow 22

# å…è®¸ MCP HTTP ç«¯å£
ufw allow 29528

# æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€
ufw status numbered

# è¾“å‡ºç¤ºä¾‹:
# Status: active
# [1] 22/tcp         ALLOW IN    Anywhere
# [2] 29528/tcp      ALLOW IN    Anywhere
```

### ðŸ”¥ **é…ç½®é˜²ç«å¢™ (firewalld)**
```bash
# CentOS/RHEL ç³»ç»Ÿä½¿ç”¨ firewalld
systemctl enable firewalld
systemctl start firewalld

# å…è®¸ç«¯å£
firewall-cmd --permanent --add-port=29528/tcp
firewall-cmd --reload

# æŸ¥çœ‹å·²å¼€æ”¾ç«¯å£
firewall-cmd --list-ports
```

### ðŸŒ **ç½‘ç»œè¿žæŽ¥æµ‹è¯•**
```bash
# æœ¬åœ°è¿žæŽ¥æµ‹è¯•
curl http://localhost:29528/health

# å¤–éƒ¨è¿žæŽ¥æµ‹è¯•ï¼ˆä»Žå…¶ä»–æœºå™¨ï¼‰
curl http://your-server-ip:29528/health

# æ£€æŸ¥ç½‘ç»œç›‘å¬
netstat -tlnp | grep 29528
```

---

## 6ï¸âƒ£ **ç³»ç»ŸæœåŠ¡é…ç½®ï¼ˆsystemdï¼‰**

### ðŸ“‹ **åˆ›å»º systemd æœåŠ¡æ–‡ä»¶**

#### MCP HTTP æœåŠ¡
```bash
# åˆ›å»º MCP HTTP æœåŠ¡æ–‡ä»¶
cat > /etc/systemd/system/mcp-web-automation.service << 'EOF'
[Unit]
Description=MCP Web Automation Service
After=network.target
Wants=network.target

[Service]
Type=exec
User=root
WorkingDirectory=/opt/mcp-web-automation
ExecStart=/opt/mcp-web-automation/start-mcp.sh http
ExecReload=/bin/kill -HUP $MAINPID
Restart=always
RestartSec=5
StartLimitInterval=60s
StartLimitBurst=3

# çŽ¯å¢ƒå˜é‡
Environment=NODE_ENV=production
Environment=PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin

# è¿›ç¨‹ç®¡ç†
KillMode=mixed
KillSignal=SIGTERM
TimeoutStopSec=30

# å®‰å…¨è®¾ç½®
NoNewPrivileges=true
PrivateTmp=true

# æ—¥å¿—è®¾ç½®
StandardOutput=journal
StandardError=journal
SyslogIdentifier=mcp-web-automation

[Install]
WantedBy=multi-user.target
EOF
```

### ðŸ”§ **å¯ç”¨å’Œç®¡ç†æœåŠ¡**
```bash
# é‡æ–°åŠ è½½ systemd é…ç½®
systemctl daemon-reload

# å¯ç”¨æœåŠ¡ï¼ˆå¼€æœºè‡ªå¯ï¼‰
systemctl enable mcp-web-automation

# å¯åŠ¨æœåŠ¡
systemctl start mcp-web-automation

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
systemctl status mcp-web-automation

# æŸ¥çœ‹æœåŠ¡æ—¥å¿—
journalctl -u mcp-web-automation -f

# é‡å¯æœåŠ¡
systemctl restart mcp-web-automation

# åœæ­¢æœåŠ¡
systemctl stop mcp-web-automation
```

---

## 7ï¸âƒ£ **æ—¥å¿—ç®¡ç†å’Œè½®è½¬**

### ðŸ“ **é…ç½® logrotate**
```bash
# åˆ›å»º logrotate é…ç½®
cat > /etc/logrotate.d/mcp-web-automation << 'EOF'
/opt/mcp-web-automation/logs/*.log {
    daily
    missingok
    rotate 30
    compress
    delaycompress
    notifempty
    sharedscripts
    copytruncate
    postrotate
        systemctl reload mcp-web-automation || true
    endscript
}
EOF

# æµ‹è¯• logrotate é…ç½®
logrotate -d /etc/logrotate.d/mcp-web-automation

# æ‰‹åŠ¨æ‰§è¡Œæ—¥å¿—è½®è½¬ï¼ˆæµ‹è¯•ï¼‰
logrotate -f /etc/logrotate.d/mcp-web-automation
```

### ðŸ“Š **æ—¥å¿—ç›‘æŽ§è„šæœ¬**
```bash
# åˆ›å»ºæ—¥å¿—ç›‘æŽ§è„šæœ¬
cat > /opt/mcp-web-automation/scripts/monitor-logs.sh << 'EOF'
#!/bin/bash

LOG_FILE="/opt/mcp-web-automation/logs/mcp-http.log"
MAX_SIZE_MB=100

if [ -f "$LOG_FILE" ]; then
    SIZE=$(du -m "$LOG_FILE" | cut -f1)
    if [ $SIZE -gt $MAX_SIZE_MB ]; then
        echo "$(date): Log file size exceeded ${MAX_SIZE_MB}MB, rotating..."
        logrotate -f /etc/logrotate.d/mcp-web-automation
    fi
fi
EOF

chmod +x /opt/mcp-web-automation/scripts/monitor-logs.sh

# æ·»åŠ åˆ° crontab
echo "0 */6 * * * /opt/mcp-web-automation/scripts/monitor-logs.sh" | crontab -
```

---

## 8ï¸âƒ£ **å¤‡ä»½å’Œç»´æŠ¤**

### ðŸ’¾ **åˆ›å»ºå¤‡ä»½è„šæœ¬**
```bash
# åˆ›å»ºå¤‡ä»½ç›®å½•
mkdir -p /opt/backups/mcp-web-automation

# åˆ›å»ºå¤‡ä»½è„šæœ¬
cat > /opt/mcp-web-automation/scripts/backup.sh << 'EOF'
#!/bin/bash

BACKUP_DIR="/opt/backups/mcp-web-automation"
PROJECT_DIR="/opt/mcp-web-automation"
DATE=$(date +%Y%m%d_%H%M%S)
BACKUP_FILE="mcp-backup-${DATE}.tar.gz"

echo "$(date): Starting backup..."

# åˆ›å»ºå¤‡ä»½
tar -czf "${BACKUP_DIR}/${BACKUP_FILE}" \
    --exclude='node_modules' \
    --exclude='logs/*.log' \
    --exclude='.git' \
    -C /opt mcp-web-automation

echo "$(date): Backup created: ${BACKUP_FILE}"

# ä¿ç•™æœ€è¿‘7å¤©çš„å¤‡ä»½
find "$BACKUP_DIR" -name "mcp-backup-*.tar.gz" -mtime +7 -delete

echo "$(date): Backup completed"
EOF

chmod +x /opt/mcp-web-automation/scripts/backup.sh

# æµ‹è¯•å¤‡ä»½
/opt/mcp-web-automation/scripts/backup.sh

# è®¾ç½®å®šæ—¶å¤‡ä»½ï¼ˆæ¯å¤©å‡Œæ™¨2ç‚¹ï¼‰
echo "0 2 * * * /opt/mcp-web-automation/scripts/backup.sh >> /var/log/mcp-backup.log 2>&1" | crontab -
```

### ðŸ”„ **åˆ›å»ºæ›´æ–°è„šæœ¬**
```bash
# åˆ›å»ºæ›´æ–°è„šæœ¬
cat > /opt/mcp-web-automation/scripts/update.sh << 'EOF'
#!/bin/bash

PROJECT_DIR="/opt/mcp-web-automation"
cd "$PROJECT_DIR"

echo "$(date): Starting update..."

# å¤‡ä»½å½“å‰ç‰ˆæœ¬
./scripts/backup.sh

# åœæ­¢æœåŠ¡
systemctl stop mcp-web-automation

# æ‹‰å–æœ€æ–°ä»£ç 
git fetch origin
git pull origin feature/mcp-server-implementation

# æ›´æ–°ä¾èµ–
npm install

# é‡å¯æœåŠ¡
systemctl start mcp-web-automation

# ç­‰å¾…æœåŠ¡å¯åŠ¨
sleep 10

# éªŒè¯æœåŠ¡
if curl -s http://localhost:29528/health > /dev/null; then
    echo "$(date): Update completed successfully"
else
    echo "$(date): Update failed, service not responding"
    exit 1
fi
EOF

chmod +x /opt/mcp-web-automation/scripts/update.sh
```

---

## 9ï¸âƒ£ **ç›‘æŽ§å’Œå‘Šè­¦**

### ðŸ“Š **ç³»ç»Ÿç›‘æŽ§è„šæœ¬**
```bash
# åˆ›å»ºç›‘æŽ§è„šæœ¬
cat > /opt/mcp-web-automation/scripts/monitor.sh << 'EOF'
#!/bin/bash

SERVICE_NAME="mcp-web-automation"
HEALTH_URL="http://localhost:29528/health"
LOG_FILE="/var/log/mcp-monitor.log"

log() {
    echo "$(date '+%Y-%m-%d %H:%M:%S'): $1" | tee -a "$LOG_FILE"
}

# æ£€æŸ¥æœåŠ¡çŠ¶æ€
if ! systemctl is-active --quiet "$SERVICE_NAME"; then
    log "ERROR: Service $SERVICE_NAME is not running"
    systemctl restart "$SERVICE_NAME"
    log "INFO: Attempted to restart $SERVICE_NAME"
fi

# æ£€æŸ¥å¥åº·çŠ¶æ€
if ! curl -s --max-time 10 "$HEALTH_URL" > /dev/null; then
    log "ERROR: Health check failed for $HEALTH_URL"
    systemctl restart "$SERVICE_NAME"
    log "INFO: Attempted to restart $SERVICE_NAME due to health check failure"
fi

# æ£€æŸ¥å†…å­˜ä½¿ç”¨
MEMORY_USAGE=$(free | grep Mem | awk '{printf "%.0f", $3/$2 * 100.0}')
if [ "$MEMORY_USAGE" -gt 90 ]; then
    log "WARNING: High memory usage: ${MEMORY_USAGE}%"
fi

# æ£€æŸ¥ç£ç›˜ç©ºé—´
DISK_USAGE=$(df /opt | tail -1 | awk '{print $5}' | sed 's/%//')
if [ "$DISK_USAGE" -gt 85 ]; then
    log "WARNING: High disk usage: ${DISK_USAGE}%"
fi

log "INFO: Monitor check completed"
EOF

chmod +x /opt/mcp-web-automation/scripts/monitor.sh

# è®¾ç½®ç›‘æŽ§å®šæ—¶ä»»åŠ¡ï¼ˆæ¯5åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡ï¼‰
echo "*/5 * * * * /opt/mcp-web-automation/scripts/monitor.sh" | crontab -
```

### ðŸ“§ **é‚®ä»¶å‘Šè­¦é…ç½®ï¼ˆå¯é€‰ï¼‰**
```bash
# å®‰è£…é‚®ä»¶å·¥å…·
apt install -y mailutils  # Ubuntu/Debian
# æˆ–è€…
yum install -y mailx      # CentOS/RHEL

# é…ç½®å‘Šè­¦è„šæœ¬
cat > /opt/mcp-web-automation/scripts/alert.sh << 'EOF'
#!/bin/bash

ALERT_EMAIL="admin@yourdomain.com"
SERVICE_NAME="MCP Web Automation"

send_alert() {
    local subject="$1"
    local message="$2"
    
    echo "$message" | mail -s "[$SERVICE_NAME] $subject" "$ALERT_EMAIL"
}

# ç¤ºä¾‹ï¼šæœåŠ¡å¼‚å¸¸å‘Šè­¦
if ! systemctl is-active --quiet mcp-web-automation; then
    send_alert "Service Down" "MCP Web Automation service is not running on $(hostname)"
fi
EOF

chmod +x /opt/mcp-web-automation/scripts/alert.sh
```

---

## ðŸ”Ÿ **æ€§èƒ½ä¼˜åŒ–**

### âš¡ **ç³»ç»Ÿä¼˜åŒ–**
```bash
# å¢žåŠ æ–‡ä»¶æè¿°ç¬¦é™åˆ¶
echo "* soft nofile 65536" >> /etc/security/limits.conf
echo "* hard nofile 65536" >> /etc/security/limits.conf

# ä¼˜åŒ–å†…æ ¸å‚æ•°
cat >> /etc/sysctl.conf << 'EOF'
# ç½‘ç»œä¼˜åŒ–
net.core.rmem_max = 16777216
net.core.wmem_max = 16777216
net.ipv4.tcp_rmem = 4096 65536 16777216
net.ipv4.tcp_wmem = 4096 65536 16777216

# è¿›ç¨‹ä¼˜åŒ–
kernel.pid_max = 4194304
vm.max_map_count = 262144
EOF

# åº”ç”¨å†…æ ¸å‚æ•°
sysctl -p
```

### ðŸ”§ **åº”ç”¨ä¼˜åŒ–é…ç½®**
```json
{
  "browser": {
    "headless": true,
    "timeout": 20000,
    "args": [
      "--no-sandbox",
      "--disable-setuid-sandbox",
      "--disable-dev-shm-usage",
      "--disable-gpu",
      "--disable-background-timer-throttling",
      "--disable-backgrounding-occluded-windows",
      "--disable-renderer-backgrounding",
      "--memory-pressure-off",
      "--max_old_space_size=1024"
    ]
  },
  "logging": {
    "level": "warn",
    "max_file_size": "20MB",
    "max_files": 5
  }
}
```

---

## 1ï¸âƒ£1ï¸âƒ£ **AIå®¢æˆ·ç«¯è¿žæŽ¥é…ç½®**

### ðŸ’» **æœ¬åœ° stdio è¿žæŽ¥**
```json
{
  "mcpServers": {
    "web-automation": {
      "command": "ssh",
      "args": [
        "your-server-ip",
        "cd /opt/mcp-web-automation && node src/mcp-server.js"
      ]
    }
  }
}
```

### ðŸŒ **è¿œç¨‹ HTTP è¿žæŽ¥**
```json
{
  "mcpServers": {
    "web-automation": {
      "url": "http://your-server-ip:29528/mcp"
    }
  }
}
```

---

## 1ï¸âƒ£2ï¸âƒ£ **éƒ¨ç½²éªŒè¯æ¸…å•**

### âœ… **æœ€ç»ˆéªŒè¯æ­¥éª¤**
```bash
# 1. ç³»ç»ŸæœåŠ¡çŠ¶æ€
systemctl status mcp-web-automation

# 2. ç«¯å£ç›‘å¬çŠ¶æ€
lsof -i :29528

# 3. å¥åº·æ£€æŸ¥
curl http://localhost:29528/health

# 4. è¿œç¨‹è®¿é—®æµ‹è¯•ï¼ˆä»Žå…¶ä»–æœºå™¨ï¼‰
curl http://your-server-ip:29528/health

# 5. æ—¥å¿—æ£€æŸ¥
tail -f logs/mcp-http.log

# 6. èµ„æºä½¿ç”¨æƒ…å†µ
free -h
df -h /opt

# 7. é˜²ç«å¢™çŠ¶æ€
ufw status || firewall-cmd --list-ports

# 8. è‡ªåŠ¨å¯åŠ¨æµ‹è¯•
systemctl enable mcp-web-automation
reboot
# é‡å¯åŽéªŒè¯æœåŠ¡è‡ªåŠ¨å¯åŠ¨
```

### ðŸ“‹ **éƒ¨ç½²æˆåŠŸæŒ‡æ ‡**
- âœ… systemd æœåŠ¡è¿è¡Œæ­£å¸¸
- âœ… ç«¯å£ 29528 æ­£å¸¸ç›‘å¬
- âœ… å¥åº·æ£€æŸ¥è¿”å›žæ­£å¸¸çŠ¶æ€
- âœ… è¿œç¨‹å¯ä»¥è®¿é—®æœåŠ¡
- âœ… æ—¥å¿—æ­£å¸¸å†™å…¥
- âœ… ç³»ç»Ÿèµ„æºä½¿ç”¨åˆç†
- âœ… é˜²ç«å¢™é…ç½®æ­£ç¡®
- âœ… æœåŠ¡å¼€æœºè‡ªå¯åŠ¨

---

## ðŸŽ‰ **éƒ¨ç½²å®Œæˆ**

æ­å–œï¼æ‚¨å·²æˆåŠŸåœ¨ `/opt` ç›®å½•éƒ¨ç½²äº† MCP Web Automation Toolã€‚

### ðŸ“ž **åŽç»­æ”¯æŒ**
- ðŸ“Š å®šæœŸæ£€æŸ¥ç›‘æŽ§æ—¥å¿—ï¼š`tail -f /var/log/mcp-monitor.log`
- ðŸ”„ å®šæœŸæ›´æ–°ç‰ˆæœ¬ï¼š`/opt/mcp-web-automation/scripts/update.sh`
- ðŸ’¾ ç¡®è®¤å¤‡ä»½æ­£å¸¸ï¼š`ls -la /opt/backups/mcp-web-automation/`
- ðŸ“ˆ ç›‘æŽ§ç³»ç»Ÿèµ„æºï¼š`htop` æˆ– `top`

### ðŸ”— **è¿žæŽ¥ä¿¡æ¯**
- **MCP HTTP ç«¯ç‚¹**: `http://your-server-ip:29528/mcp`
- **å¥åº·æ£€æŸ¥**: `http://your-server-ip:29528/health`
- **SSH stdio è¿žæŽ¥**: `ssh your-server-ip "cd /opt/mcp-web-automation && node src/mcp-server.js"`

**ðŸš€ çŽ°åœ¨æ‚¨å¯ä»¥åœ¨ä»»ä½•æ”¯æŒ MCP çš„ AI å®¢æˆ·ç«¯ä¸­ä½¿ç”¨è¿™ä¸ªå¼ºå¤§çš„ç½‘é¡µè‡ªåŠ¨åŒ–å·¥å…·äº†ï¼**
